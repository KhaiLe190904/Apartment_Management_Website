# üè¢ G23 Apartment Management System

H·ªá th·ªëng qu·∫£n l√Ω chung c∆∞ BlueMoon - M·ªôt ·ª©ng d·ª•ng web to√†n di·ªán ƒë·ªÉ qu·∫£n l√Ω c√°c ho·∫°t ƒë·ªông c·ªßa chung c∆∞ bao g·ªìm qu·∫£n l√Ω c∆∞ d√¢n, h·ªô gia ƒë√¨nh, ph√≠ d·ªãch v·ª•, thanh to√°n v√† ti·ªán √≠ch.

## üìã M·ª•c l·ª•c

- [T·ªïng quan](#-t·ªïng-quan)
- [T√≠nh nƒÉng ch√≠nh](#-t√≠nh-nƒÉng-ch√≠nh)
- [C√¥ng ngh·ªá s·ª≠ d·ª•ng](#-c√¥ng-ngh·ªá-s·ª≠-d·ª•ng)
- [C·∫•u tr√∫c d·ª± √°n](#-c·∫•u-tr√∫c-d·ª±-√°n)
- [Y√™u c·∫ßu h·ªá th·ªëng](#-y√™u-c·∫ßu-h·ªá-th·ªëng)
- [C√†i ƒë·∫∑t v√† ch·∫°y d·ª± √°n](#-c√†i-ƒë·∫∑t-v√†-ch·∫°y-d·ª±-√°n)
- [C·∫•u h√¨nh](#-c·∫•u-h√¨nh)
- [API Documentation](#-api-documentation)
- [ƒê√≥ng g√≥p](#-ƒë√≥ng-g√≥p)
- [Gi·∫•y ph√©p](#-gi·∫•y-ph√©p)

## üéØ T·ªïng quan

**G23 Apartment Management System** l√† m·ªôt h·ªá th·ªëng qu·∫£n l√Ω chung c∆∞ hi·ªán ƒë·∫°i ƒë∆∞·ª£c ph√°t tri·ªÉn ƒë·ªÉ gi·∫£i quy·∫øt c√°c v·∫•n ƒë·ªÅ qu·∫£n l√Ω ph·ª©c t·∫°p trong c√°c t√≤a nh√† chung c∆∞. H·ªá th·ªëng cung c·∫•p giao di·ªán th√¢n thi·ªán v√† c√°c t√≠nh nƒÉng to√†n di·ªán cho vi·ªác qu·∫£n l√Ω c∆∞ d√¢n, thu ph√≠, v√† c√°c d·ªãch v·ª• ti·ªán √≠ch.

### üé® Demo
- **Frontend URL**: [http://localhost:3000](http://localhost:3000)
- **Backend API**: [http://localhost:5001](http://localhost:5001)

### üë• T√†i kho·∫£n m·∫∑c ƒë·ªãnh
```
Admin:
- Email: admin@bluemoon.com
- Password: admin123

Manager:
- Email: manager@bluemoon.com  
- Password: manager123

Accountant:
- Email: accountant@bluemoon.com
- Password: accountant123
```

## ‚ú® T√≠nh nƒÉng ch√≠nh

### üè† Qu·∫£n l√Ω H·ªô gia ƒë√¨nh
- Th√™m, s·ª≠a, x√≥a th√¥ng tin h·ªô gia ƒë√¨nh
- Qu·∫£n l√Ω th√¥ng tin cƒÉn h·ªô (s·ªë ph√≤ng, di·ªán t√≠ch, lo·∫°i cƒÉn h·ªô)
- Theo d√µi tr·∫°ng th√°i c∆∞ tr√∫

### üë• Qu·∫£n l√Ω C∆∞ d√¢n
- ƒêƒÉng k√Ω th√¥ng tin c∆∞ d√¢n m·ªõi
- C·∫≠p nh·∫≠t th√¥ng tin c√° nh√¢n
- Qu·∫£n l√Ω quan h·ªá gia ƒë√¨nh
- Theo d√µi t√¨nh tr·∫°ng t·∫°m tr√∫/t·∫°m v·∫Øng

### üöó Qu·∫£n l√Ω Ph∆∞∆°ng ti·ªán
- ƒêƒÉng k√Ω xe √¥ t√¥, xe m√°y
- Qu·∫£n l√Ω ph√≠ g·ª≠i xe
- Theo d√µi th√¥ng tin bi·ªÉn s·ªë, lo·∫°i xe

### üí∞ Qu·∫£n l√Ω Ph√≠ v√† Thanh to√°n
- **C√°c lo·∫°i ph√≠**:
  - Ph√≠ qu·∫£n l√Ω chung c∆∞
  - Ph√≠ g·ª≠i xe (√¥ t√¥, xe m√°y)
  - Ph√≠ v·ªá sinh
  - Ph√≠ theo di·ªán t√≠ch cƒÉn h·ªô
  - Ph√≠ ƒë√≥ng g√≥p t·ª± nguy·ªán

- **Thanh to√°n**:
  - T·∫°o h√≥a ƒë∆°n thanh to√°n
  - Theo d√µi tr·∫°ng th√°i thanh to√°n
  - L·ªãch s·ª≠ thanh to√°n chi ti·∫øt
  - B√°o c√°o doanh thu

### üõ†Ô∏è Qu·∫£n l√Ω Ti·ªán √≠ch
- Qu·∫£n l√Ω c√°c ti·ªán √≠ch chung (thang m√°y, h·ªì b∆°i, gym, v.v.)
- L·∫≠p l·ªãch b·∫£o tr√¨
- Theo d√µi t√¨nh tr·∫°ng ho·∫°t ƒë·ªông

### üìä B√°o c√°o v√† Th·ªëng k√™
- Dashboard t·ªïng quan
- B√°o c√°o doanh thu theo th√°ng/nƒÉm
- Th·ªëng k√™ thanh to√°n
- Bi·ªÉu ƒë·ªì tr·ª±c quan

### üë§ Qu·∫£n l√Ω Ng∆∞·ªùi d√πng
- Ph√¢n quy·ªÅn ng∆∞·ªùi d√πng (Admin, Manager, Accountant, Staff)
- ƒêƒÉng nh·∫≠p/ƒëƒÉng xu·∫•t an to√†n
- Qu·∫£n l√Ω h·ªì s∆° c√° nh√¢n

## üõ†Ô∏è C√¥ng ngh·ªá s·ª≠ d·ª•ng

### Backend
- **Node.js** - Runtime environment
- **Express.js** - Web framework
- **MongoDB** - NoSQL database
- **Mongoose** - ODM cho MongoDB
- **JWT** - Authentication
- **bcryptjs** - M√£ h√≥a m·∫≠t kh·∫©u
- **dotenv** - Qu·∫£n l√Ω bi·∫øn m√¥i tr∆∞·ªùng
- **cors** - Cross-origin resource sharing
- **morgan** - HTTP request logger

### Frontend
- **React.js** - UI library
- **React Router** - Client-side routing
- **React Bootstrap** - UI components
- **Axios** - HTTP client
- **Chart.js** - Data visualization
- **React Context** - State management

### Development Tools
- **Nodemon** - Auto-restart server
- **Jest** - Testing framework
- **Docker** - Containerization
- **Vercel** - Deployment platform

## üìÅ C·∫•u tr√∫c d·ª± √°n

```
G23_Apartment_Management_Systems/
‚îú‚îÄ‚îÄ backend/                        # Backend API (Node.js + Express)
‚îÇ   ‚îú‚îÄ‚îÄ src/                       # Source code ch√≠nh
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/               # C·∫•u h√¨nh ·ª©ng d·ª•ng
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.js         # C·∫•u h√¨nh chung
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database.js      # C·∫•u h√¨nh database
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/               # Utility functions
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ app.js               # Express app setup
‚îÇ   ‚îú‚îÄ‚îÄ controllers/             # Business logic controllers
‚îÇ   ‚îú‚îÄ‚îÄ middleware/              # Express middleware
‚îÇ   ‚îú‚îÄ‚îÄ models/                  # Database models (Mongoose)
‚îÇ   ‚îú‚îÄ‚îÄ routes/                  # API routes
‚îÇ   ‚îú‚îÄ‚îÄ services/               # Business logic services
‚îÇ   ‚îú‚îÄ‚îÄ scripts/                # Database scripts
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ setup/              # Scripts setup database
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ seed/               # Scripts seed data
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ maintenance/        # Scripts b·∫£o tr√¨
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ setupAll.js         # Script ch·∫°y t·∫•t c·∫£ setup
‚îÇ   ‚îú‚îÄ‚îÄ tests/                  # Test files
‚îÇ   ‚îú‚îÄ‚îÄ .env                   # Environment variables
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îú‚îÄ‚îÄ server.js              # Entry point
‚îÇ   ‚îî‚îÄ‚îÄ docker-compose.yml
‚îÇ
‚îú‚îÄ‚îÄ frontend/                   # Frontend (React)
‚îÇ   ‚îú‚îÄ‚îÄ public/                # Static files
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/        # React components
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ common/       # Common reusable components
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ layout/       # Layout components
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ features/     # Feature-specific components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/            # Page components
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/            # Custom React hooks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/         # API services
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ context/          # React Context
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/            # Utility functions
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ assets/           # Images, fonts, etc.
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ styles/           # Global styles
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ App.js
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.js
‚îÇ   ‚îî‚îÄ‚îÄ package.json
‚îÇ
‚îú‚îÄ‚îÄ docs/                      # Documentation
‚îî‚îÄ‚îÄ README.md                  # T√†i li·ªáu n√†y
```

## üíª Y√™u c·∫ßu h·ªá th·ªëng

### Ph·∫ßn m·ªÅm c·∫ßn thi·∫øt
- **Node.js** >= 16.0.0
- **npm** >= 8.0.0 ho·∫∑c **yarn** >= 1.22.0
- **MongoDB** >= 5.0.0
- **Git** >= 2.30.0

### H·ªá ƒëi·ªÅu h√†nh h·ªó tr·ª£
- Windows 10/11
- macOS 10.15+
- Ubuntu 18.04+

## üöÄ C√†i ƒë·∫∑t v√† ch·∫°y d·ª± √°n

### 1. Clone d·ª± √°n

```bash
git clone https://github.com/your-username/G23_Apartment_Management_Systems.git
cd G23_Apartment_Management_Systems
```

### 2. C√†i ƒë·∫∑t MongoDB

#### Windows:
1. T·∫£i MongoDB Community Server t·ª´ [mongodb.com](https://www.mongodb.com/try/download/community)
2. C√†i ƒë·∫∑t v√† kh·ªüi ƒë·ªông MongoDB service
3. MongoDB s·∫Ω ch·∫°y tr√™n `mongodb://localhost:27017`

#### macOS:
```bash
# S·ª≠ d·ª•ng Homebrew
brew tap mongodb/brew
brew install mongodb-community
brew services start mongodb/brew/mongodb-community
```

#### Ubuntu:
```bash
# Import public key
wget -qO - https://www.mongodb.org/static/pgp/server-5.0.asc | sudo apt-key add -

# Add MongoDB repository
echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/5.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-5.0.list

# Install MongoDB
sudo apt-get update
sudo apt-get install -y mongodb-org

# Start MongoDB
sudo systemctl start mongod
sudo systemctl enable mongod
```

### 3. C√†i ƒë·∫∑t Backend

```bash
# Di chuy·ªÉn v√†o th∆∞ m·ª•c backend
cd backend

# C√†i ƒë·∫∑t dependencies
npm install

# T·∫°o file .env
cp .env.example .env
```

#### C·∫•u h√¨nh file `.env`:
```env
# Database
MONGO_URI=mongodb://localhost:27017/bluemoon_apartment
MONGODB_URI=mongodb://localhost:27017/bluemoon_apartment

# Server
PORT=5001
NODE_ENV=development

# JWT
JWT_SECRET=your-super-secret-jwt-key-here

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:3000
```

#### Kh·ªüi t·∫°o database v·ªõi d·ªØ li·ªáu m·∫´u:
```bash
# Ch·∫°y t·∫•t c·∫£ scripts setup (t·∫°o database, seed data)
npm run setup
```

#### Ch·∫°y backend server:
```bash
# Development mode (auto-restart)
npm run dev

# Production mode
npm start
```

Backend s·∫Ω ch·∫°y t·∫°i: `http://localhost:5001`

### 4. C√†i ƒë·∫∑t Frontend

M·ªü terminal m·ªõi:

```bash
# Di chuy·ªÉn v√†o th∆∞ m·ª•c frontend
cd frontend

# C√†i ƒë·∫∑t dependencies
npm install

# T·∫°o file .env (n·∫øu c·∫ßn)
echo "REACT_APP_API_URL=http://localhost:5001" > .env

# Ch·∫°y frontend
npm start
```

Frontend s·∫Ω ch·∫°y t·∫°i: `http://localhost:3000`

### 5. Truy c·∫≠p ·ª©ng d·ª•ng

1. M·ªü tr√¨nh duy·ªát v√† truy c·∫≠p: `http://localhost:3000`
2. ƒêƒÉng nh·∫≠p b·∫±ng t√†i kho·∫£n admin:
   - Email: `admin@bluemoon.com`
   - Password: `admin123`

## ‚öôÔ∏è C·∫•u h√¨nh

### Backend Environment Variables

```env
# Database Configuration
MONGO_URI=mongodb://localhost:27017/bluemoon_apartment
MONGODB_URI=mongodb://localhost:27017/bluemoon_apartment

# Server Configuration
PORT=5001
NODE_ENV=development

# Security
JWT_SECRET=your-super-secret-jwt-key-here

# CORS
FRONTEND_URL=http://localhost:3000

# Email Configuration (optional)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
```

### Frontend Environment Variables

```env
# API Configuration
REACT_APP_API_URL=http://localhost:5001

# App Configuration
REACT_APP_NAME=BlueMoon Apartment Management
REACT_APP_VERSION=1.0.0
```

## üê≥ Ch·∫°y v·ªõi Docker

### 1. S·ª≠ d·ª•ng Docker Compose

```bash
# Ch·∫°y to√†n b·ªô stack (MongoDB + Backend + Frontend)
docker-compose up -d

# Xem logs
docker-compose logs -f

# D·ª´ng services
docker-compose down
```

### 2. Build ri√™ng t·ª´ng service

```bash
# Build backend
cd backend
docker build -t apartment-backend .

# Build frontend
cd frontend
docker build -t apartment-frontend .
```

## üìö API Documentation

### Authentication Endpoints
```
POST /api/users/login          # ƒêƒÉng nh·∫≠p
POST /api/users/register       # ƒêƒÉng k√Ω (admin only)
GET  /api/users/profile        # L·∫•y th√¥ng tin profile
PUT  /api/users/profile        # C·∫≠p nh·∫≠t profile
```

### Household Management
```
GET    /api/households         # L·∫•y danh s√°ch h·ªô gia ƒë√¨nh
POST   /api/households         # T·∫°o h·ªô gia ƒë√¨nh m·ªõi
GET    /api/households/:id     # L·∫•y chi ti·∫øt h·ªô gia ƒë√¨nh
PUT    /api/households/:id     # C·∫≠p nh·∫≠t h·ªô gia ƒë√¨nh
DELETE /api/households/:id     # X√≥a h·ªô gia ƒë√¨nh
```

### Resident Management
```
GET    /api/residents          # L·∫•y danh s√°ch c∆∞ d√¢n
POST   /api/residents          # Th√™m c∆∞ d√¢n m·ªõi
GET    /api/residents/:id      # L·∫•y chi ti·∫øt c∆∞ d√¢n
PUT    /api/residents/:id      # C·∫≠p nh·∫≠t c∆∞ d√¢n
DELETE /api/residents/:id      # X√≥a c∆∞ d√¢n
```

### Payment Management
```
GET    /api/payments           # L·∫•y danh s√°ch thanh to√°n
POST   /api/payments           # T·∫°o thanh to√°n m·ªõi
GET    /api/payments/:id       # L·∫•y chi ti·∫øt thanh to√°n
PUT    /api/payments/:id       # C·∫≠p nh·∫≠t thanh to√°n
DELETE /api/payments/:id       # X√≥a thanh to√°n
GET    /api/payments/search    # T√¨m ki·∫øm thanh to√°n
```

### Fee Management
```
GET    /api/fees               # L·∫•y danh s√°ch ph√≠
POST   /api/fees               # T·∫°o ph√≠ m·ªõi
GET    /api/fees/:id           # L·∫•y chi ti·∫øt ph√≠
PUT    /api/fees/:id           # C·∫≠p nh·∫≠t ph√≠
DELETE /api/fees/:id           # X√≥a ph√≠
```

### Statistics
```
GET    /api/statistics/dashboard    # Dashboard data
GET    /api/statistics/revenue      # B√°o c√°o doanh thu
GET    /api/statistics/payments     # Th·ªëng k√™ thanh to√°n
```

## üß™ Testing

### Ch·∫°y tests

```bash
# Backend tests
cd backend
npm test

# Frontend tests
cd frontend
npm test

# Test coverage
npm run test:coverage
```

### Test Scripts c√≥ s·∫µn

```bash
# Test database connection
cd backend
node scripts/maintenance/paymentStats.js

# Test API endpoints
npm run test:api

# Test components
cd frontend
npm run test:components
```

## üöÄ Deployment

### Deploy l√™n Vercel

1. **Chu·∫©n b·ªã**:
   ```bash
   npm install -g vercel
   ```

2. **Deploy Backend**:
   ```bash
   cd backend
   vercel --prod
   ```

3. **Deploy Frontend**:
   ```bash
   cd frontend
   vercel --prod
   ```

4. **C·∫•u h√¨nh Environment Variables** tr√™n Vercel dashboard

### Deploy l√™n Heroku

1. **Backend**:
   ```bash
   cd backend
   heroku create your-app-backend
   heroku config:set MONGO_URI=your-mongodb-uri
   git push heroku main
   ```

2. **Frontend**:
   ```bash
   cd frontend
   heroku create your-app-frontend
   heroku config:set REACT_APP_API_URL=your-backend-url
   git push heroku main
   ```

## üõ†Ô∏è Scripts c√≥ s·∫µn

### Backend Scripts

```bash
npm start              # Ch·∫°y production server
npm run dev            # Ch·∫°y development server v·ªõi nodemon
npm run setup          # Kh·ªüi t·∫°o database v·ªõi d·ªØ li·ªáu m·∫´u
npm test               # Ch·∫°y tests
npm run test:watch     # Ch·∫°y tests ·ªü watch mode
```

### Frontend Scripts

```bash
npm start              # Ch·∫°y development server
npm run build          # Build production
npm test               # Ch·∫°y tests
npm run eject          # Eject t·ª´ Create React App
```

### Database Scripts

```bash
# Setup scripts
node scripts/setup/clearDatabase.js      # X√≥a to√†n b·ªô d·ªØ li·ªáu
node scripts/setup/setupDatabase.js      # T·∫°o d·ªØ li·ªáu m·∫´u

# Seed scripts
node scripts/seed/seedFacilities.js      # Th√™m d·ªØ li·ªáu ti·ªán √≠ch
node scripts/seed/setHouseholdHeads.js   # Thi·∫øt l·∫≠p ch·ªß h·ªô

# Maintenance scripts
node scripts/maintenance/paymentStats.js # Th·ªëng k√™ thanh to√°n
node scripts/maintenance/fixPaymentDates.js # S·ª≠a ng√†y thanh to√°n
```

## ü§ù ƒê√≥ng g√≥p

Ch√∫ng t√¥i hoan ngh√™nh m·ªçi ƒë√≥ng g√≥p! Vui l√≤ng ƒë·ªçc [CONTRIBUTING.md](CONTRIBUTING.md) ƒë·ªÉ bi·∫øt th√™m chi ti·∫øt.

### Quy tr√¨nh ƒë√≥ng g√≥p

1. Fork d·ª± √°n
2. T·∫°o feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. T·∫°o Pull Request

### Coding Standards

- S·ª≠ d·ª•ng ESLint v√† Prettier
- Vi·∫øt tests cho features m·ªõi
- Tu√¢n th·ªß conventional commits
- C·∫≠p nh·∫≠t documentation

## üìù Changelog

### Version 1.0.0 (2024-12-15)
- ‚ú® T√≠nh nƒÉng qu·∫£n l√Ω h·ªô gia ƒë√¨nh v√† c∆∞ d√¢n
- ‚ú® H·ªá th·ªëng thanh to√°n v√† qu·∫£n l√Ω ph√≠
- ‚ú® Dashboard v√† b√°o c√°o th·ªëng k√™
- ‚ú® Qu·∫£n l√Ω ph∆∞∆°ng ti·ªán v√† ti·ªán √≠ch
- ‚ú® H·ªá th·ªëng ph√¢n quy·ªÅn ng∆∞·ªùi d√πng
- üêõ S·ª≠a l·ªói v√† t·ªëi ∆∞u hi·ªáu su·∫•t

## üìÑ Gi·∫•y ph√©p

D·ª± √°n n√†y ƒë∆∞·ª£c ph√¢n ph·ªëi d∆∞·ªõi gi·∫•y ph√©p MIT. Xem file [LICENSE](LICENSE) ƒë·ªÉ bi·∫øt th√™m chi ti·∫øt.

## üë• Nh√≥m ph√°t tri·ªÉn

- **Nh√≥m G23** - Ph√°t tri·ªÉn v√† b·∫£o tr√¨
- **Email**: g23.apartment@gmail.com

## üÜò H·ªó tr·ª£

N·∫øu b·∫°n g·∫∑p v·∫•n ƒë·ªÅ ho·∫∑c c√≥ c√¢u h·ªèi:

1. Ki·ªÉm tra [Issues](https://github.com/your-username/G23_Apartment_Management_Systems/issues)
2. T·∫°o issue m·ªõi n·∫øu ch∆∞a c√≥
3. Li√™n h·ªá qua email: g23.apartment@gmail.com

## üôè L·ªùi c·∫£m ∆°n

- [React.js](https://reactjs.org/) - UI Library
- [Node.js](https://nodejs.org/) - Runtime Environment
- [MongoDB](https://www.mongodb.com/) - Database
- [Bootstrap](https://getbootstrap.com/) - CSS Framework
- [Chart.js](https://www.chartjs.org/) - Data Visualization

---

**Made with ‚ù§Ô∏è by G23 Team** 
