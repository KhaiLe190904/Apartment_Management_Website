# ğŸ¢ G23 Apartment Management System

Há»‡ thá»‘ng quáº£n lÃ½ chung cÆ° BlueMoon - Má»™t á»©ng dá»¥ng web toÃ n diá»‡n Ä‘á»ƒ quáº£n lÃ½ cÃ¡c hoáº¡t Ä‘á»™ng cá»§a chung cÆ° bao gá»“m quáº£n lÃ½ cÆ° dÃ¢n, há»™ gia Ä‘Ã¬nh, phÃ­ dá»‹ch vá»¥, thanh toÃ¡n vÃ  tiá»‡n Ã­ch.

## ğŸ“‹ Má»¥c lá»¥c

- [Tá»•ng quan](#-tá»•ng-quan)
- [TÃ­nh nÄƒng chÃ­nh](#-tÃ­nh-nÄƒng-chÃ­nh)
- [CÃ´ng nghá»‡ sá»­ dá»¥ng](#-cÃ´ng-nghá»‡-sá»­-dá»¥ng)
- [Cáº¥u trÃºc dá»± Ã¡n](#-cáº¥u-trÃºc-dá»±-Ã¡n)
- [YÃªu cáº§u há»‡ thá»‘ng](#-yÃªu-cáº§u-há»‡-thá»‘ng)
- [CÃ i Ä‘áº·t vÃ  cháº¡y dá»± Ã¡n](#-cÃ i-Ä‘áº·t-vÃ -cháº¡y-dá»±-Ã¡n)
- [Cáº¥u hÃ¬nh](#-cáº¥u-hÃ¬nh)
- [API Documentation](#-api-documentation)
- [ÄÃ³ng gÃ³p](#-Ä‘Ã³ng-gÃ³p)
- [Giáº¥y phÃ©p](#-giáº¥y-phÃ©p)

## ğŸ¯ Tá»•ng quan

**G23 Apartment Management System** lÃ  má»™t há»‡ thá»‘ng quáº£n lÃ½ chung cÆ° hiá»‡n Ä‘áº¡i Ä‘Æ°á»£c phÃ¡t triá»ƒn Ä‘á»ƒ giáº£i quyáº¿t cÃ¡c váº¥n Ä‘á» quáº£n lÃ½ phá»©c táº¡p trong cÃ¡c tÃ²a nhÃ  chung cÆ°. Há»‡ thá»‘ng cung cáº¥p giao diá»‡n thÃ¢n thiá»‡n vÃ  cÃ¡c tÃ­nh nÄƒng toÃ n diá»‡n cho viá»‡c quáº£n lÃ½ cÆ° dÃ¢n, thu phÃ­, vÃ  cÃ¡c dá»‹ch vá»¥ tiá»‡n Ã­ch.

### ğŸ¨ Demo
- **Frontend URL**: [http://localhost:3000](http://localhost:3000)
- **Backend API**: [http://localhost:5001](http://localhost:5001)

### ğŸ‘¥ TÃ i khoáº£n máº·c Ä‘á»‹nh
```
Admin:
- Email: admin@bluemoon.com
- Password: admin123

Manager:
- Email: manager@bluemoon.com  
- Password: manager123

Accountant:
- Email: accountant@bluemoon.com
- Password: accountant123
```

## âœ¨ TÃ­nh nÄƒng chÃ­nh

### ğŸ  Quáº£n lÃ½ Há»™ gia Ä‘Ã¬nh
- ThÃªm, sá»­a, xÃ³a thÃ´ng tin há»™ gia Ä‘Ã¬nh
- Quáº£n lÃ½ thÃ´ng tin cÄƒn há»™ (sá»‘ phÃ²ng, diá»‡n tÃ­ch, loáº¡i cÄƒn há»™)
- Theo dÃµi tráº¡ng thÃ¡i cÆ° trÃº

### ğŸ‘¥ Quáº£n lÃ½ CÆ° dÃ¢n
- ÄÄƒng kÃ½ thÃ´ng tin cÆ° dÃ¢n má»›i
- Cáº­p nháº­t thÃ´ng tin cÃ¡ nhÃ¢n
- Quáº£n lÃ½ quan há»‡ gia Ä‘Ã¬nh
- Theo dÃµi tÃ¬nh tráº¡ng táº¡m trÃº/táº¡m váº¯ng

### ğŸš— Quáº£n lÃ½ PhÆ°Æ¡ng tiá»‡n
- ÄÄƒng kÃ½ xe Ã´ tÃ´, xe mÃ¡y
- Quáº£n lÃ½ phÃ­ gá»­i xe
- Theo dÃµi thÃ´ng tin biá»ƒn sá»‘, loáº¡i xe

### ğŸ’° Quáº£n lÃ½ PhÃ­ vÃ  Thanh toÃ¡n
- **CÃ¡c loáº¡i phÃ­**:
  - PhÃ­ quáº£n lÃ½ chung cÆ°
  - PhÃ­ gá»­i xe (Ã´ tÃ´, xe mÃ¡y)
  - PhÃ­ vá»‡ sinh
  - PhÃ­ theo diá»‡n tÃ­ch cÄƒn há»™
  - PhÃ­ Ä‘Ã³ng gÃ³p tá»± nguyá»‡n

- **Thanh toÃ¡n**:
  - Táº¡o hÃ³a Ä‘Æ¡n thanh toÃ¡n
  - Theo dÃµi tráº¡ng thÃ¡i thanh toÃ¡n
  - Lá»‹ch sá»­ thanh toÃ¡n chi tiáº¿t
  - BÃ¡o cÃ¡o doanh thu

### ğŸ› ï¸ Quáº£n lÃ½ Tiá»‡n Ã­ch
- Quáº£n lÃ½ cÃ¡c tiá»‡n Ã­ch chung (thang mÃ¡y, há»“ bÆ¡i, gym, v.v.)
- Láº­p lá»‹ch báº£o trÃ¬
- Theo dÃµi tÃ¬nh tráº¡ng hoáº¡t Ä‘á»™ng

### ğŸ“Š BÃ¡o cÃ¡o vÃ  Thá»‘ng kÃª
- Dashboard tá»•ng quan
- BÃ¡o cÃ¡o doanh thu theo thÃ¡ng/nÄƒm
- Thá»‘ng kÃª thanh toÃ¡n
- Biá»ƒu Ä‘á»“ trá»±c quan

### ğŸ‘¤ Quáº£n lÃ½ NgÆ°á»i dÃ¹ng
- PhÃ¢n quyá»n ngÆ°á»i dÃ¹ng (Admin, Manager, Accountant, Staff)
- ÄÄƒng nháº­p/Ä‘Äƒng xuáº¥t an toÃ n
- Quáº£n lÃ½ há»“ sÆ¡ cÃ¡ nhÃ¢n

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

### Backend
- **Node.js** - Runtime environment
- **Express.js** - Web framework
- **MongoDB** - NoSQL database
- **Mongoose** - ODM cho MongoDB
- **JWT** - Authentication
- **bcryptjs** - MÃ£ hÃ³a máº­t kháº©u
- **dotenv** - Quáº£n lÃ½ biáº¿n mÃ´i trÆ°á»ng
- **cors** - Cross-origin resource sharing
- **morgan** - HTTP request logger

### Frontend
- **React.js** - UI library
- **React Router** - Client-side routing
- **React Bootstrap** - UI components
- **Axios** - HTTP client
- **Chart.js** - Data visualization
- **React Context** - State management

### Development Tools
- **Nodemon** - Auto-restart server
- **Jest** - Testing framework
- **Docker** - Containerization
- **Vercel** - Deployment platform

## ğŸ“ Cáº¥u trÃºc dá»± Ã¡n

```
G23_Apartment_Management_Systems/
â”œâ”€â”€ backend/                        # Backend API (Node.js + Express)
â”‚   â”œâ”€â”€ src/                       # Source code chÃ­nh
â”‚   â”‚   â”œâ”€â”€ config/               # Cáº¥u hÃ¬nh á»©ng dá»¥ng
â”‚   â”‚   â”‚   â”œâ”€â”€ index.js         # Cáº¥u hÃ¬nh chung
â”‚   â”‚   â”‚   â””â”€â”€ database.js      # Cáº¥u hÃ¬nh database
â”‚   â”‚   â”œâ”€â”€ utils/               # Utility functions
â”‚   â”‚   â””â”€â”€ app.js               # Express app setup
â”‚   â”œâ”€â”€ controllers/             # Business logic controllers
â”‚   â”œâ”€â”€ middleware/              # Express middleware
â”‚   â”œâ”€â”€ models/                  # Database models (Mongoose)
â”‚   â”œâ”€â”€ routes/                  # API routes
â”‚   â”œâ”€â”€ services/               # Business logic services
â”‚   â”œâ”€â”€ scripts/                # Database scripts
â”‚   â”‚   â”œâ”€â”€ setup/              # Scripts setup database
â”‚   â”‚   â”œâ”€â”€ seed/               # Scripts seed data
â”‚   â”‚   â”œâ”€â”€ maintenance/        # Scripts báº£o trÃ¬
â”‚   â”‚   â””â”€â”€ setupAll.js         # Script cháº¡y táº¥t cáº£ setup
â”‚   â”œâ”€â”€ tests/                  # Test files
â”‚   â”œâ”€â”€ .env                   # Environment variables
â”‚   â”œâ”€â”€ package.json
â”‚   â”œâ”€â”€ server.js              # Entry point
â”‚   â””â”€â”€ docker-compose.yml
â”‚
â”œâ”€â”€ frontend/                   # Frontend (React)
â”‚   â”œâ”€â”€ public/                # Static files
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/        # React components
â”‚   â”‚   â”‚   â”œâ”€â”€ common/       # Common reusable components
â”‚   â”‚   â”‚   â”œâ”€â”€ layout/       # Layout components
â”‚   â”‚   â”‚   â””â”€â”€ features/     # Feature-specific components
â”‚   â”‚   â”œâ”€â”€ pages/            # Page components
â”‚   â”‚   â”œâ”€â”€ hooks/            # Custom React hooks
â”‚   â”‚   â”œâ”€â”€ services/         # API services
â”‚   â”‚   â”œâ”€â”€ context/          # React Context
â”‚   â”‚   â”œâ”€â”€ utils/            # Utility functions
â”‚   â”‚   â”œâ”€â”€ assets/           # Images, fonts, etc.
â”‚   â”‚   â”œâ”€â”€ styles/           # Global styles
â”‚   â”‚   â”œâ”€â”€ App.js
â”‚   â”‚   â””â”€â”€ index.js
â”‚   â””â”€â”€ package.json
â”‚
â”œâ”€â”€ docs/                      # Documentation
â””â”€â”€ README.md                  # TÃ i liá»‡u nÃ y
```

## ğŸ’» YÃªu cáº§u há»‡ thá»‘ng

### Pháº§n má»m cáº§n thiáº¿t
- **Node.js** >= 16.0.0
- **npm** >= 8.0.0 hoáº·c **yarn** >= 1.22.0
- **MongoDB** >= 5.0.0
- **Git** >= 2.30.0

### Há»‡ Ä‘iá»u hÃ nh há»— trá»£
- Windows 10/11
- macOS 10.15+
- Ubuntu 18.04+

## ğŸš€ CÃ i Ä‘áº·t vÃ  cháº¡y dá»± Ã¡n

### 1. Clone dá»± Ã¡n

```bash
git clone https://github.com/your-username/G23_Apartment_Management_Systems.git
cd G23_Apartment_Management_Systems
```

### 2. CÃ i Ä‘áº·t MongoDB

#### Windows:
1. Táº£i MongoDB Community Server tá»« [mongodb.com](https://www.mongodb.com/try/download/community)
2. CÃ i Ä‘áº·t vÃ  khá»Ÿi Ä‘á»™ng MongoDB service
3. MongoDB sáº½ cháº¡y trÃªn `mongodb://localhost:27017`

#### macOS:
```bash
# Sá»­ dá»¥ng Homebrew
brew tap mongodb/brew
brew install mongodb-community
brew services start mongodb/brew/mongodb-community
```

#### Ubuntu:
```bash
# Import public key
wget -qO - https://www.mongodb.org/static/pgp/server-5.0.asc | sudo apt-key add -

# Add MongoDB repository
echo "deb [ arch=amd64,arm64 ] https://repo.mongodb.org/apt/ubuntu focal/mongodb-org/5.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org-5.0.list

# Install MongoDB
sudo apt-get update
sudo apt-get install -y mongodb-org

# Start MongoDB
sudo systemctl start mongod
sudo systemctl enable mongod
```

### 3. CÃ i Ä‘áº·t Backend

```bash
# Di chuyá»ƒn vÃ o thÆ° má»¥c backend
cd backend

# CÃ i Ä‘áº·t dependencies
npm install

# Táº¡o file .env
cp .env.example .env
```

#### Cáº¥u hÃ¬nh file `.env`:
```env
# Database
MONGO_URI=mongodb://localhost:27017/bluemoon_apartment
MONGODB_URI=mongodb://localhost:27017/bluemoon_apartment

# Server
PORT=5001
NODE_ENV=development

# JWT
JWT_SECRET=your-super-secret-jwt-key-here

# Frontend URL (for CORS)
FRONTEND_URL=http://localhost:3000
```

#### Khá»Ÿi táº¡o database vá»›i dá»¯ liá»‡u máº«u:
```bash
# Cháº¡y táº¥t cáº£ scripts setup (táº¡o database, seed data)
npm run setup
```

#### Cháº¡y backend server:
```bash
# Development mode (auto-restart)
npm run dev

# Production mode
npm start
```

Backend sáº½ cháº¡y táº¡i: `http://localhost:5001`

### 4. CÃ i Ä‘áº·t Frontend

Má»Ÿ terminal má»›i:

```bash
# Di chuyá»ƒn vÃ o thÆ° má»¥c frontend
cd frontend

# CÃ i Ä‘áº·t dependencies
npm install

# Táº¡o file .env (náº¿u cáº§n)
echo "REACT_APP_API_URL=http://localhost:5001" > .env

# Cháº¡y frontend
npm start
```

Frontend sáº½ cháº¡y táº¡i: `http://localhost:3000`

### 5. Truy cáº­p á»©ng dá»¥ng

1. Má»Ÿ trÃ¬nh duyá»‡t vÃ  truy cáº­p: `http://localhost:3000`
2. ÄÄƒng nháº­p báº±ng tÃ i khoáº£n admin:
   - Email: `admin@bluemoon.com`
   - Password: `admin123`

## âš™ï¸ Cáº¥u hÃ¬nh

### Backend Environment Variables

```env
# Database Configuration
MONGO_URI=mongodb://localhost:27017/bluemoon_apartment
MONGODB_URI=mongodb://localhost:27017/bluemoon_apartment

# Server Configuration
PORT=5001
NODE_ENV=development

# Security
JWT_SECRET=your-super-secret-jwt-key-here

# CORS
FRONTEND_URL=http://localhost:3000

# Email Configuration (optional)
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASS=your-app-password
```

### Frontend Environment Variables

```env
# API Configuration
REACT_APP_API_URL=http://localhost:5001

# App Configuration
REACT_APP_NAME=BlueMoon Apartment Management
REACT_APP_VERSION=1.0.0
```

## ğŸ³ Cháº¡y vá»›i Docker

### 1. Sá»­ dá»¥ng Docker Compose

```bash
# Cháº¡y toÃ n bá»™ stack (MongoDB + Backend + Frontend)
docker-compose up -d

# Xem logs
docker-compose logs -f

# Dá»«ng services
docker-compose down
```

### 2. Build riÃªng tá»«ng service

```bash
# Build backend
cd backend
docker build -t apartment-backend .

# Build frontend
cd frontend
docker build -t apartment-frontend .
```

## ğŸ“š API Documentation

### Authentication Endpoints
```
POST /api/users/login          # ÄÄƒng nháº­p
POST /api/users/register       # ÄÄƒng kÃ½ (admin only)
GET  /api/users/profile        # Láº¥y thÃ´ng tin profile
PUT  /api/users/profile        # Cáº­p nháº­t profile
```

### Household Management
```
GET    /api/households         # Láº¥y danh sÃ¡ch há»™ gia Ä‘Ã¬nh
POST   /api/households         # Táº¡o há»™ gia Ä‘Ã¬nh má»›i
GET    /api/households/:id     # Láº¥y chi tiáº¿t há»™ gia Ä‘Ã¬nh
PUT    /api/households/:id     # Cáº­p nháº­t há»™ gia Ä‘Ã¬nh
DELETE /api/households/:id     # XÃ³a há»™ gia Ä‘Ã¬nh
```

### Resident Management
```
GET    /api/residents          # Láº¥y danh sÃ¡ch cÆ° dÃ¢n
POST   /api/residents          # ThÃªm cÆ° dÃ¢n má»›i
GET    /api/residents/:id      # Láº¥y chi tiáº¿t cÆ° dÃ¢n
PUT    /api/residents/:id      # Cáº­p nháº­t cÆ° dÃ¢n
DELETE /api/residents/:id      # XÃ³a cÆ° dÃ¢n
```

### Payment Management
```
GET    /api/payments           # Láº¥y danh sÃ¡ch thanh toÃ¡n
POST   /api/payments           # Táº¡o thanh toÃ¡n má»›i
GET    /api/payments/:id       # Láº¥y chi tiáº¿t thanh toÃ¡n
PUT    /api/payments/:id       # Cáº­p nháº­t thanh toÃ¡n
DELETE /api/payments/:id       # XÃ³a thanh toÃ¡n
GET    /api/payments/search    # TÃ¬m kiáº¿m thanh toÃ¡n
```

### Fee Management
```
GET    /api/fees               # Láº¥y danh sÃ¡ch phÃ­
POST   /api/fees               # Táº¡o phÃ­ má»›i
GET    /api/fees/:id           # Láº¥y chi tiáº¿t phÃ­
PUT    /api/fees/:id           # Cáº­p nháº­t phÃ­
DELETE /api/fees/:id           # XÃ³a phÃ­
```

### Statistics
```
GET    /api/statistics/dashboard    # Dashboard data
GET    /api/statistics/revenue      # BÃ¡o cÃ¡o doanh thu
GET    /api/statistics/payments     # Thá»‘ng kÃª thanh toÃ¡n
```

## ğŸ§ª Testing

### Cháº¡y tests

```bash
# Backend tests
cd backend
npm test

# Frontend tests
cd frontend
npm test

# Test coverage
npm run test:coverage
```

### Test Scripts cÃ³ sáºµn

```bash
# Test database connection
cd backend
node scripts/maintenance/paymentStats.js

# Test API endpoints
npm run test:api

# Test components
cd frontend
npm run test:components
```

## ğŸš€ Deployment

### Deploy lÃªn Vercel

1. **Chuáº©n bá»‹**:
   ```bash
   npm install -g vercel
   ```

2. **Deploy Backend**:
   ```bash
   cd backend
   vercel --prod
   ```

3. **Deploy Frontend**:
   ```bash
   cd frontend
   vercel --prod
   ```

4. **Cáº¥u hÃ¬nh Environment Variables** trÃªn Vercel dashboard

### Deploy lÃªn Heroku

1. **Backend**:
   ```bash
   cd backend
   heroku create your-app-backend
   heroku config:set MONGO_URI=your-mongodb-uri
   git push heroku main
   ```

2. **Frontend**:
   ```bash
   cd frontend
   heroku create your-app-frontend
   heroku config:set REACT_APP_API_URL=your-backend-url
   git push heroku main
   ```

## ğŸ› ï¸ Scripts cÃ³ sáºµn

### Backend Scripts

```bash
npm start              # Cháº¡y production server
npm run dev            # Cháº¡y development server vá»›i nodemon
npm run setup          # Khá»Ÿi táº¡o database vá»›i dá»¯ liá»‡u máº«u
npm test               # Cháº¡y tests
npm run test:watch     # Cháº¡y tests á»Ÿ watch mode
```

### Frontend Scripts

```bash
npm start              # Cháº¡y development server
npm run build          # Build production
npm test               # Cháº¡y tests
npm run eject          # Eject tá»« Create React App
```

### Database Scripts

```bash
# Setup scripts
node scripts/setup/clearDatabase.js      # XÃ³a toÃ n bá»™ dá»¯ liá»‡u
node scripts/setup/setupDatabase.js      # Táº¡o dá»¯ liá»‡u máº«u

# Seed scripts
node scripts/seed/seedFacilities.js      # ThÃªm dá»¯ liá»‡u tiá»‡n Ã­ch
node scripts/seed/setHouseholdHeads.js   # Thiáº¿t láº­p chá»§ há»™

# Maintenance scripts
node scripts/maintenance/paymentStats.js # Thá»‘ng kÃª thanh toÃ¡n
node scripts/maintenance/fixPaymentDates.js # Sá»­a ngÃ y thanh toÃ¡n
```

## ğŸ¤ ÄÃ³ng gÃ³p

ChÃºng tÃ´i hoan nghÃªnh má»i Ä‘Ã³ng gÃ³p! Vui lÃ²ng Ä‘á»c [CONTRIBUTING.md](CONTRIBUTING.md) Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t.

### Quy trÃ¬nh Ä‘Ã³ng gÃ³p

1. Fork dá»± Ã¡n
2. Táº¡o feature branch (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. Táº¡o Pull Request

### Coding Standards

- Sá»­ dá»¥ng ESLint vÃ  Prettier
- Viáº¿t tests cho features má»›i
- TuÃ¢n thá»§ conventional commits
- Cáº­p nháº­t documentation

## ğŸ“ Changelog

### Version 1.0.0 (2024-12-15)
- âœ¨ TÃ­nh nÄƒng quáº£n lÃ½ há»™ gia Ä‘Ã¬nh vÃ  cÆ° dÃ¢n
- âœ¨ Há»‡ thá»‘ng thanh toÃ¡n vÃ  quáº£n lÃ½ phÃ­
- âœ¨ Dashboard vÃ  bÃ¡o cÃ¡o thá»‘ng kÃª
- âœ¨ Quáº£n lÃ½ phÆ°Æ¡ng tiá»‡n vÃ  tiá»‡n Ã­ch
- âœ¨ Há»‡ thá»‘ng phÃ¢n quyá»n ngÆ°á»i dÃ¹ng
- ğŸ› Sá»­a lá»—i vÃ  tá»‘i Æ°u hiá»‡u suáº¥t

## ğŸ“„ Giáº¥y phÃ©p

Dá»± Ã¡n nÃ y Ä‘Æ°á»£c phÃ¢n phá»‘i dÆ°á»›i giáº¥y phÃ©p MIT. Xem file [LICENSE](LICENSE) Ä‘á»ƒ biáº¿t thÃªm chi tiáº¿t.

## ğŸ‘¥ NhÃ³m phÃ¡t triá»ƒn

- **NhÃ³m G23** - PhÃ¡t triá»ƒn vÃ  báº£o trÃ¬
- **Email**: g23.apartment@gmail.com

## ğŸ†˜ Há»— trá»£

Náº¿u báº¡n gáº·p váº¥n Ä‘á» hoáº·c cÃ³ cÃ¢u há»i:

1. Kiá»ƒm tra [Issues](https://github.com/your-username/G23_Apartment_Management_Systems/issues)
2. Táº¡o issue má»›i náº¿u chÆ°a cÃ³
3. LiÃªn há»‡ qua email: g23.apartment@gmail.com

## ğŸ™ Lá»i cáº£m Æ¡n

- [React.js](https://reactjs.org/) - UI Library
- [Node.js](https://nodejs.org/) - Runtime Environment
- [MongoDB](https://www.mongodb.com/) - Database
- [Bootstrap](https://getbootstrap.com/) - CSS Framework
- [Chart.js](https://www.chartjs.org/) - Data Visualization

---

**Made with â¤ï¸ by G23 Team** 
